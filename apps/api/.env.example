# ============================================
# RestoNext MX - Environment Variables
# ============================================
# Production Configuration for Railway/Vercel Deployment
#
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ============================================

# ============================================
# DATABASE (Required)
# ============================================
# Railway provides DATABASE_URL automatically
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@host:port/restonext

# ============================================
# REDIS (Required)
# ============================================
# Railway provides REDIS_URL automatically
REDIS_URL=redis://default:password@host:port

# ============================================
# AUTHENTICATION (Required)
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440  # 24 hours

# ============================================
# CORS CONFIGURATION (Required for Production)
# ============================================
# JSON array of allowed origins
# Example: '["https://restonext.vercel.app", "https://myrestaurant.com"]'
BACKEND_CORS_ORIGINS=["https://resto-next-ten.vercel.app"]

# ============================================
# EMAIL SERVICE (SMTP)
# ============================================
# Gmail Example (requires App Password):
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_USER=your-email@gmail.com
#   SMTP_PASSWORD=your-app-password
#
# Outlook Example:
#   SMTP_HOST=smtp.office365.com
#   SMTP_PORT=587
#
# Leave empty to disable email functionality

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=  # Defaults to SMTP_USER if empty
SMTP_FROM_NAME=RestoNext MX
SMTP_TLS=true
SMTP_SSL=false

# ============================================
# DATABASE BACKUPS
# ============================================
# Local backup configuration
BACKUP_RETENTION_DAYS=7          # Delete backups older than this
BACKUP_MAX_SIZE_GB=5             # Max total backup storage
BACKUP_ADMIN_EMAIL=              # Email to notify on backup status (optional)

# ============================================
# SCHEDULER
# ============================================
# Enable/disable scheduled jobs
SCHEDULER_ENABLED=true

# ============================================
# AI INTEGRATION (Optional)
# ============================================
PERPLEXITY_API_KEY=

# ============================================
# OBSERVABILITY - SENTRY (Optional but Recommended)
# ============================================
# Sign up at https://sentry.io
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1   # 10% of transactions

# ============================================
# PAC - FACTURACIÓN ELECTRÓNICA (Optional)
# ============================================
# Proveedor: mock (testing), finkok, facturama
PAC_PROVIDER=mock
FINKOK_USERNAME=
FINKOK_PASSWORD=
FINKOK_SANDBOX=true

# ============================================
# APP INFO
# ============================================
APP_NAME=RestoNext MX
DEBUG=false

# ============================================
# QUICK REFERENCE: Railway Variables
# ============================================
# Railway automatically provides:
#   - DATABASE_URL (PostgreSQL)
#   - REDIS_URL (Redis)
#   - PORT (for uvicorn)
#   - RAILWAY_ENVIRONMENT
#
# You need to manually configure:
#   - JWT_SECRET (security critical!)
#   - BACKEND_CORS_ORIGINS
#   - SMTP_* (for email)
#   - SENTRY_DSN (optional)
